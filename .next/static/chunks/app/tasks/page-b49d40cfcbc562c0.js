(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{206:function(e,s,t){Promise.resolve().then(t.bind(t,8054))},8054:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(3827),n=t(4090),i=t(7907),r=t(3060),l=t(537);function d(){let e=(0,i.useRouter)(),{currentUser:s,tasks:t,addTask:d,updateTaskStatus:o,deleteTask:c,getTasksByUser:u}=(0,r.D)(),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)({title:"",description:"",assignedTo:"",status:"In Progress"});if(!s)return e.push("/"),null;let k=l.r.find(e=>e.id===s),v=(null==k?void 0:k.role)==="admin",g=v?t:u(s);return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-akkodis-navy",children:v?"All Tasks":"My Tasks"}),v&&(0,a.jsx)("button",{onClick:()=>x(!0),className:"bg-akkodis-cyan text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition-colors",children:"Create New Task"})]}),m&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Create New Task"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Task Title",value:h.title,onChange:e=>p({...h,title:e.target.value}),className:"w-full p-2 border rounded"}),(0,a.jsx)("textarea",{placeholder:"Task Description",value:h.description,onChange:e=>p({...h,description:e.target.value}),className:"w-full p-2 border rounded"}),(0,a.jsxs)("select",{value:h.assignedTo,onChange:e=>p({...h,assignedTo:e.target.value}),className:"w-full p-2 border rounded",children:[(0,a.jsx)("option",{value:"",children:"Select Team Member"}),l.r.filter(e=>"member"===e.role).map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 border rounded hover:bg-gray-100",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{d(h),p({title:"",description:"",assignedTo:"",status:"In Progress"}),x(!1)},className:"bg-akkodis-cyan text-white px-4 py-2 rounded hover:bg-opacity-90",children:"Create Task"})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:g.map(e=>{var s;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-akkodis-navy",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Assigned to: ",null===(s=l.r.find(s=>s.id===e.assignedTo))||void 0===s?void 0:s.name]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:e.status,onChange:s=>o(e.id,s.target.value),className:"p-2 border rounded",children:[(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Completed",children:"Completed"}),(0,a.jsx)("option",{value:"Blocked",children:"Blocked"})]}),v&&(0,a.jsx)("button",{onClick:()=>c(e.id),className:"text-red-500 hover:text-red-700",children:"Delete"})]})]})},e.id)})})]})}},537:function(e,s,t){"use strict";t.d(s,{r:function(){return a}});let a=[{id:"admin",name:"Admin User",email:"admin@akkodis.com",role:"admin"},{id:"user1",name:"John Doe",email:"john@akkodis.com",role:"member"},{id:"user2",name:"Jane Smith",email:"jane@akkodis.com",role:"member"}]},3060:function(e,s,t){"use strict";t.d(s,{D:function(){return i}});var a=t(2020),n=t(5249);let i=(0,a.Ue)()((0,n.tJ)((e,s)=>({tasks:[],currentUser:null,setCurrentUser:s=>e({currentUser:s}),addTask:s=>e(e=>({tasks:[...e.tasks,{...s,id:crypto.randomUUID(),createdAt:new Date().toISOString()}]})),updateTaskStatus:(s,t)=>e(e=>({tasks:e.tasks.map(e=>e.id===s?{...e,status:t}:e)})),deleteTask:s=>e(e=>({tasks:e.tasks.filter(e=>e.id!==s)})),getTasksByUser:e=>s().tasks.filter(s=>s.assignedTo===e)}),{name:"task-storage"}))}},function(e){e.O(0,[549,971,69,744],function(){return e(e.s=206)}),_N_E=e.O()}]);